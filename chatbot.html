<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="chatbot.css">
  <title>Chatbot</title>
</head>
<body>
  <div id="sidebar-container">
    <!-- Sidebar -->
    <div id="sidebar" class="sidebar">
      <div class="header">
          <img src="images/logo.png" alt="Logo" style="width: 10vw; height: 20vh;">
          <button id="minimize-btn" class="toggle-btn">&#10005;</button>
          <button id="maximize-btn" class="toggle-btn" style="display: none;">&#9776;</button>
      </div>      
      <ul class="menu">
        <li><a href="chatbot_dashboard.html"><span class="icon">🏠</span><span class="text">Home</span></a></li>
        <li><a href="#"><span class="icon">📚</span><span class="text">Did You Know</span></a></li>
        <li><a href="faq.html"><span class="icon">🔐</span><span class="text">FAQ</span></a></li>
        <li><a href="leaderboard.html"><span class="icon">🔐</span><span class="text">Leaderboard</span></a></li>
        <li><a href="chatbot.html"><span class="icon">🤖</span><span class="text">Chatbot</span></a></li>
      </ul>
      <div class="footer">
        <ul>
          <li><a href="index.html"><span class="icon">🚪</span><span class="text">Log Out</span></a></li>
        </ul>
      </div>
    </div>
  </div>
  <section class="chat-container">
    <!-- Header -->
    <header class="chat-header">
      <h1>Chat with Safeguard</h1>
    </header>

    <!-- Chat Window -->
    <div class="chat-window" id="chat-window">
      <!-- Messages will be dynamically added here -->
    </div>

    <!-- Footer -->
    <footer class="chat-footer">
      <input 
        type="text" 
        id="user-input" 
        placeholder="Type your message..." 
        class="chat-input"
      >
      <button id="send-button" class="send-button">Send</button>
    </footer>
  </div>
</section>

  <script>
     // JavaScript for Sidebar Toggle
   const sidebar = document.getElementById("sidebar");
    const minimizeBtn = document.getElementById("minimize-btn");
    const maximizeBtn = document.getElementById("maximize-btn");

    // Minimize the sidebar
    minimizeBtn.addEventListener("click", () => {
      console.debug("Minimizing sidebar");
      sidebar.classList.add("minimized");
      minimizeBtn.style.display = "none";
      maximizeBtn.style.display = "block";
    });

    // Maximize the sidebar
    maximizeBtn.addEventListener("click", () => {
      console.debug("Maximizing sidebar");
      sidebar.classList.remove("minimized");
      maximizeBtn.style.display = "none";
      minimizeBtn.style.display = "block";
    });

   // Select DOM Elements
const chatWindow = document.getElementById("chat-window");
const userInput = document.getElementById("user-input");
const sendButton = document.getElementById("send-button");

// Sample Bot Responses (for demonstration purposes)
const botReplies = [
  "That's a great question!",
  "I'm here to guide you on online safety.",
  "Can you elaborate on that?",
  "Stay safe online! Avoid sharing sensitive information.",
  "Thank you for chatting with me!"
];

// Function to Append a Message
function appendMessage(content, sender) {
  const message = document.createElement("div");
  message.className = `message ${sender}`;
  message.textContent = content;
  chatWindow.appendChild(message);
  chatWindow.scrollTop = chatWindow.scrollHeight; // Auto-scroll to the latest message
}

// Display Initial Welcome Message
function displayWelcomeMessage() {
  const welcomeMessage = "Hello! 👋 I'm Safeguard, your online safety assistant. How can I help you today?";
  appendMessage(welcomeMessage, "bot");
}

// Send Message on Button Click
sendButton.addEventListener("click", () => {
  const userMessage = userInput.value.trim();
  if (userMessage) {
    appendMessage(userMessage, "user");
    userInput.value = ""; // Clear input field

    // Simulate bot reply with a slight delay
    setTimeout(() => {
      const botReply =
        botReplies[Math.floor(Math.random() * botReplies.length)];
      appendMessage(botReply, "bot");
    }, 500);
  }
});

// Send Message on Enter Key
userInput.addEventListener("keypress", (e) => {
  if (e.key === "Enter") {
    sendButton.click();
  }
});

// Display the Welcome Message When the Page Loads
window.onload = displayWelcomeMessage;
  </script>
</body>
</html>
